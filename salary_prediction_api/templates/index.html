<html>
    <head>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

    </head>
    <body>
        <h1>Salary estimation</h1>
        <p>This app helps you estimate your expected salary.</p>
        <form id="salaryForm" onsubmit="event.preventDefault(); sendData();">
            <label for="years_of_experience">Years of experience:</label>
            <input type="number" id="years_of_experience" name="years_of_experience" required>
            <br><br>
            <label for="education_level">Education level:</label>
            <select id="education_level" name="education_level">
                <option value="0">High School</option>
                <option value="1">Bachelor's</option>
                <option value="2">Master's</option>
                <option value="3">PhD</option>
            </select>
            <br><br>
            <label for="job_title">Job Title:</label>
            <select id="job_title" name="job_title">
                <option value="0">Account Manager</option>
                <option value="1">Accountant</option>
                <option value="2">Administrative Assistant</option>
                <option value="3">Back end Developer</option>
            </select>
            <br><br>
            <label for="gender">Gender:</label>
            <select id="gender" name="gender">
                <option value="0">Male</option>
                <option value="1">Female</option>
            </select>
            <br><br>
            <label for="age">Age:</label>
            <input type="number" id="age" name="age" required>
            <br><br>
            <button type="submit">Predict Salary</button>
            <p id="response"></p>
        </form>
            <script>
                function sendData() {
                    const years_of_experience = parseFloat(document.getElementById("years_of_experience").value);
                    const education_level = parseFloat(document.getElementById("education_level").value);
                    const job_title = parseFloat(document.getElementById("job_title").value);
                    const age = parseFloat(document.getElementById("age").value);
                    const gender = parseFloat(document.getElementById("gender").value);

                    const data = {
                        years_of_experience: years_of_experience,
                        education_level: education_level,
                        job_title: job_title,
                        age: age,
                        gender: gender
                    };
        
                axios.post(" http://127.0.0.1:8000/predict_salary", data)
                .then(response => {
                    document.getElementById("response").innerText = 
                       response.data
                })
                .catch(error => {
                    JSON.stringify(response.data);
                    document.getElementById("response").innerText = 
                        "Error: " + error.response.data.detail;
                });
                }
            </script>
        </body> 
</html>